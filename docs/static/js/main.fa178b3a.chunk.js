(this["webpackJsonp@project/react-app"]=this["webpackJsonp@project/react-app"]||[]).push([[0],{276:function(e,t,n){e.exports=n(520)},277:function(e,t,n){},286:function(e,t){},328:function(e,t){},330:function(e,t){},355:function(e,t){},357:function(e,t){},369:function(e,t){},370:function(e,t){},393:function(e,t){},403:function(e,t){},405:function(e,t){},520:function(e,t,n){"use strict";n.r(t);n(277);var a,r,c,o,u,i,l=n(552),s=n(269),d=n(1),p=n.n(d),f=n(249),m=n.n(f),b=n(12),h=n(0),g=n.n(h),v=n(4),O=n(20),x=n(52),j=n(74),w=j.a.header(a||(a=Object(x.a)(["\n  background-color: #282c34;\n  min-height: 70px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-end;\n  color: white;\n"]))),E=j.a.div(r||(r=Object(x.a)(["\n  position: absolute;\n  left: 0;\n  display: inline-flex;\n  flex-wrap: wrap;\n  min-height: 70px;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-start;\n  color: white;\n"]))),y=(j.a.div(c||(c=Object(x.a)(["\n  align-items: center;\n  background-color: #282c34;\n  color: white;\n  display: flex;\n  flex-direction: column;\n  font-size: calc(10px + 2vmin);\n  justify-content: center;\n  min-height: calc(100vh - 70px);\n"]))),j.a.img(o||(o=Object(x.a)(["\n  height: 40vmin;\n  margin-bottom: 16px;\n  pointer-events: none;\n"]))),j.a.a.attrs({target:"_blank",rel:"noopener noreferrer"})(u||(u=Object(x.a)(["\n  color: #61dafb;\n  margin-top: 10px;\n"]))),j.a.button(i||(i=Object(x.a)(["\n  background-color: white;\n  border: none;\n  border-radius: 8px;\n  color: #282c34;\n  cursor: pointer;\n  font-size: 16px;\n  text-align: center;\n  text-decoration: none;\n  margin: 0px 20px;\n  padding: 12px 24px;\n\n  "," :focus {\n    border: none;\n    outline: none;\n  }\n"])),(function(e){return e.hidden&&"hidden"}))),k=n(550),I=n(270),S=n(260),_=n.n(S);var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(d.useState)(),n=Object(O.a)(t,2),a=n[0],r=n[1],c=Object(d.useState)(!1),o=Object(O.a)(c,2),u=o[0],i=o[1],l=e.autoLoad,s=void 0===l||l,p=e.infuraId,f=void 0===p?"INVALID_INFURA_KEY":p,m=e.network,b=void 0===m?"mainnet":m,h=Object(d.useMemo)((function(){return new _.a({network:b,cacheProvider:!0,providerOptions:{walletconnect:{package:I.a,options:{infuraId:f}}}})}),[f,b]),x=Object(d.useCallback)(Object(v.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.connect();case 2:t=e.sent,r(new k.a(t));case 4:case"end":return e.stop()}}),e)}))),[h]),j=Object(d.useCallback)(Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.clearCachedProvider();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)}))),[h]);return Object(d.useEffect)((function(){s&&!u&&h.cachedProvider&&(x(),i(!0))}),[s,u,x,i,h.cachedProvider]),[a,x,j]},M=n(262),N=n.n(M),R=(n(498),function(e){var t=Object(d.useRef)(null),n=Object(d.useRef)(null),a=Object(d.useRef)(null),r=Object(d.useRef)(!0),c=Object(d.useRef)(0),o=Object(d.useRef)(.98),u=Object(d.useRef)(0),i=function(e){t.current&&!t.current._playing?(t.current._looping=!0,t.current.play()):t.current&&t.current._playing&&t.current.pause()},l=function(){var e=Object(v.a)(g.a.mark((function e(n,r){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Starting setup"),(c=n.createCanvas(256,256).parent(r)).elt.addEventListener("mousedown",i),c.style("margin","auto"),c.style("display","block"),c.style("padding","30px"),n.noStroke(),n.rectMode(n.CENTER),a.current=n.color(n.random(0,255),n.random(0,255),n.random(0,255),80),t.current&&t.current.play(),console.log("Ending setup");case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s=function(e){t.current&&t.current._playing&&(a.current=e.color(e.random(0,255),e.random(0,255),e.random(0,255),80),r.current=!r.current)};console.log("Rendering a new Sketch");var f=p.a.createElement("video",{id:"vidId1",onLoadStart:function(){document.getElementById("vidId1").volume=0},style:{width:"256px",height:"256px",zIndex:1},key:"vid-"+e.url,width:"320",height:"320",autoPlay:!1},p.a.createElement("source",{src:e.url,type:"video/mp4"}),"Your browser does not support the video tag.");return console.log(f),p.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"300px",height:"300px",margin:"auto"}},f,p.a.createElement(N.a,{style:{position:"absolute",zIndex:2},key:e.url,preload:function(a){console.log("Starting preload");var r=e.url;if(r&&r.length){try{t.current&&t.current.stop(),t.current=a.loadSound(r,(function(){n.current=new a.constructor.Amplitude,n.current.setInput(t.current),n.current.smooth(.9),document.getElementById("vidId1").play()}))}catch(c){console.log(c)}t.current._looping=!0,console.log("Ending preload")}},setup:l,draw:function(e){if(e.clear(),a.current&&e.background(a.current),n.current){var t=n.current.getLevel();!function(e,t){t>c.current&&t>.11?(s(e),c.current=1.2*t,u.current=0):u.current<=30?u.current++:(c.current*=o.current,c.current=Math.max(c.current,.11))}(e,t);var i,l=e.map(t,0,1,0,1200);i=r.current?e.PI/2:e.PI/3;var d=e.createVector(e.width/3,e.height/2);e.push();for(var p=0;p<10;p++){var f=d.x+20*p,m=d.y+l/2;e.translate(f,m),e.rotate(i),e.rect(0,0,15,15+l)}e.pop()}}}))}),A=n(9),P=n(11),F=n(263),L=n.n(F),T=function e(){Object(A.a)(this,e)};T.MORALIS_API_KEY="gbHOOdSc86Ft29Fs4NjuEC0o0KxcOCdH5N4JX2J2aszsxxTiJmoWOzFNT6VdXBrs";var W=function(){function e(){Object(A.a)(this,e)}return Object(P.a)(e,[{key:"getNftUrl",value:function(e){return"https://deep-index.moralis.io/api/v2/".concat(e,"/nft?chain=eth&format=decimal")}},{key:"getNFTs",value:function(e){return L()({method:"get",url:this.getNftUrl(e),headers:{"X-API-Key":T.MORALIS_API_KEY,accept:"application/json"}}).then((function(e){return e.data&&e.data.result?e.data.result.map((function(e){return e.metadata=JSON.parse(e.metadata),e})):[]}))}}]),e}(),z=n(553),J=n(558),K=n(557),B=n(556),U=n(551),Y=n(555),V="/musicNFT-viewer/address";function X(e){var t=e.provider,n=e.loadWeb3Modal,a=e.logoutOfWeb3Modal,r=Object(d.useState)(""),c=Object(O.a)(r,2),o=c[0],u=c[1],i=Object(d.useState)(""),l=Object(O.a)(i,2),s=l[0],f=l[1];return Object(d.useEffect)((function(){function e(){return(e=Object(v.a)(g.a.mark((function e(){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t.listAccounts();case 5:return n=e.sent,u(n[0]),e.next=9,t.lookupAddress(n[0]);case 9:a=e.sent,f(a||o.substring(0,6)+"..."+o.substring(36)),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),u(""),f(""),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[o,t,u,f]),p.a.createElement(y,{onClick:function(){t?a():n()}},""===s&&"Connect Wallet",""!==s&&"Disconnect Wallet")}var D=function(){var e=C(),t=Object(O.a)(e,3),n=t[0],a=t[1],r=t[2],c=Object(d.useState)(null),o=Object(O.a)(c,2),u=o[0],i=o[1],l=Object(d.useState)([]),s=Object(O.a)(l,2),f=s[0],m=s[1],h=Object(d.useState)(null),x=Object(O.a)(h,2),j=x[0],k=x[1],I=Object(d.useState)(null),S=Object(O.a)(I,2),_=S[0],M=S[1],N=new W,A=Object(b.f)("".concat(V,"/:slug")),P=A&&A.params&&A.params.slug;return Object(d.useEffect)((function(){!u||!u.length||f.length>0||N.getNFTs(u).then((function(e){m(e)}))}),[u,N]),Object(d.useEffect)((function(){P&&i(P),n&&Object(v.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.listAccounts();case 2:(t=e.sent).length>0&&(a="".concat(V,"/").concat(t[0]),M(a));case 4:case"end":return e.stop()}}),e)})))()}),[n,P]),Object(d.useEffect)((function(){console.log(j)}),[j]),p.a.createElement("div",null,p.a.createElement(w,null,p.a.createElement(E,null,p.a.createElement("h4",{style:{marginLeft:"10px"},onClick:function(){window.location.href=function(){var e=["0x5567c85cbbe24c65c80783b520ea538552f47a88"];return"".concat(V,"/").concat(e[Math.floor(Math.random()*e.length)])}()}},"Music NFT Collection"),_&&p.a.createElement(y,{onClick:function(){window.location.href=_}},"Profile")),p.a.createElement(X,{provider:n,loadWeb3Modal:a,logoutOfWeb3Modal:r})),p.a.createElement(R,{url:j}),f.filter((function(e){return!!e.metadata&&!!e.metadata.animation_url})).map((function(e,t){return p.a.createElement(z.a,{sx:{maxWidth:300,float:"left"},key:t},p.a.createElement(B.a,{component:"img",height:"140px",width:"140px",image:e.metadata.image,alt:e.metadata.name}),p.a.createElement(K.a,null,p.a.createElement(Y.a,{variant:"b"},e.metadata.name)),e.metadata.animation_url?p.a.createElement(J.a,null,p.a.createElement(U.a,{size:"large",onMouseUp:function(){console.log("Touch ended!"),j!==e.metadata.animation_url?k(e.metadata.animation_url):k(null)}},j!==e.metadata.animation_url?"play":"stop")):p.a.createElement("div",null))})))},H=n(151),q=new s.a({uri:"https://api.thegraph.com/subgraphs/name/paulrberg/create-eth-app"});m.a.render(p.a.createElement(l.a,{client:q},p.a.createElement(H.a,null,p.a.createElement(b.c,null,p.a.createElement(b.a,{path:"/*",element:p.a.createElement(D,null)})))),document.getElementById("root"))}},[[276,1,2]]]);
//# sourceMappingURL=main.fa178b3a.chunk.js.map